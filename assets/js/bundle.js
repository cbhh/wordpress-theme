!function(){"use strict";function e(e){return document.createElement(e)}function t(){return document.createDocumentFragment()}function n(e){return document.getElementById(e)}function r(e){return document.querySelector(e)}const a=function(){var e=/postid-(\d+)/g.exec(document.body.classList.value);if(e){var t=n("post-"+e[1]);return!(!t||"ARTICLE"!==t.tagName)}return!1}();var i,s;i=HTMLElement.prototype,s={addClass:function(...e){this.classList.add(...e)},removeClass:function(e){this.classList.remove(e)},hasClass:function(e){return this.classList.contains(e)}},Object.keys(s).forEach((e=>{Object.defineProperty(i,e,{value:s[e],enumerable:!0})}));var l,o,c,d=(l=0,o=[],window.addEventListener("scroll",(function(){l||(l=setTimeout((function(){var e=window.scrollY;o.forEach((function(t){t.callback.call(t.thisArg,e)})),l=0}),50))})),{addHandle:function(e,t,n){o.every((function(t){return t.name!==e}))&&o.push({name:e,thisArg:t,callback:n})},deleteHandle:function(e){!function(e,t,n){for(var r=e.length,a=0;a<r;a++)e[a][t]===n&&e.splice(a,1)}(o,e,e)}});if(a){var u=(c="blockquote",document.getElementsByTagName(c));if(u&&u.length){var h=e("i"),m=e("i"),p=u.length;h.setAttribute("class","fa fa-quote-left"),m.setAttribute("class","fa fa-quote-right");for(var g=0;g<p;g++){var v=u.item(g),f=v.firstElementChild;f?v.insertBefore(g?h.cloneNode():h,f):v.appendChild(g?h.cloneNode():h),v.appendChild(g?m.cloneNode():m)}}}if(a){var C=r(".post-navigation");if(C){var w=C.querySelector(".nav-previous"),E=C.querySelector(".nav-next");if(w){var b=e("div"),x=e("i");x.setAttribute("class","fa fa-arrow-left"),b.appendChild(x),b.addEventListener("click",(()=>{window.location.href=w.querySelector("a").href})),w.insertBefore(b,w.firstElementChild)}if(E){var I=e("div"),y=e("i");y.setAttribute("class","fa fa-arrow-right"),I.appendChild(y),I.addEventListener("click",(()=>{window.location.href=E.querySelector("a").href})),E.appendChild(I)}}}for(var T=n("wp-calendar").querySelector("tbody").getElementsByTagName("td"),_=T.length,A=0;A<_;A++){var L=T.item(A);L.childElementCount&&L.addClass("has-post")}var k=window.innerHeight,H=["hidden","mousedown"],N=n("back-to-top"),W=document.documentElement,M=0;function q(e){return String.fromCodePoint.apply(null,e)}N.addEventListener("click",(()=>{!function(e){if(M<k)window.scrollTo({top:0,behavior:"smooth"});else var t=setInterval((function(){W.scrollTop<=0&&clearInterval(t),W.scrollTop-=e}),20)}((M=W.scrollTop)/(1e3*(M/5/k)/20))})),N.addEventListener("mousedown",(()=>N.addClass(H[1]))),N.addEventListener("mouseup",(()=>N.removeClass(H[1]))),d.addHandle("bttv",null,(function(e){e>=window.innerHeight?N.removeClass(H[0]):N.addClass(H[0])}),null);const S=[0,1,2,3,4,5,6,7,8,9],B=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];function $(e){for(var t="",n=1,r=0;r<e;r++)n?(t+=B[Math.floor(26*Math.random())],n=0):(t+=S[Math.floor(10*Math.random())],n=1);return t}function O(e,t){this.wrap=e,this.target=t,this.visible=!0}if(O.prototype={wrap:{},target:{},tagCount:[0,0,0,0,0,0],visible:!1,headingCollection:[],anchorCollection:[],_lastAnchor:null,_curAnchor:null,set currentAnchor(e){this._curAnchor=e,!this._lastAnchor||this._lastAnchor.removeClass("current"),this._curAnchor.addClass("current"),this._lastAnchor=e},get currentAnchor(){return this._curAnchor},h1(t,n){if(this.tagCount[0]>0)console.warn("Only one <h1> tag is allowed in single document");else{this.tagCount[0]+=1;var r=e("div");r.addClass("catalog-h1"),r.innerText=t.innerText,n.appendChild(r)}},h2To6(t,n,r){var a=parseInt(t.tagName.charAt(1));this.tagCount[a-1]+=1,a-r>1&&console.warn(`<h${r}> tag should not be followed directly by <h${a}> tag`);var i=e("a"),s=$(4);i.addClass("catalog-h"+a),i.innerHTML=`<div class="catalog-wrap"><div></div><span>${t.innerText}</span></div>`,t.id||(t.id=`h${a}-${this.tagCount[a-1]}-${s}`),i.href="#"+t.id,i.dataset.anchor=s,t.dataset.anchor=s,this.headingCollection.push(t),this.anchorCollection.push(i),n.appendChild(i)},generate(){if(!(!this.wrap instanceof HTMLElement||!this.target instanceof HTMLElement)){for(var e=this.wrap,n=e.children,r=e.childElementCount,a=t(),i=this.wrap.querySelector("h1")?0:1,s=0;s<r;s++){var l=n.item(s);switch(l.tagName){case"H1":this.h1(l,a),i=1;break;case"H2":case"H3":case"H4":case"H5":case"H6":this.h2To6(l,a,i),i=l.tagName.charAt(1)}}return!!a.childElementCount&&(this.target.appendChild(a),!0)}}},a){var j=r("article"),F=e("div"),G=new O(j.querySelector(".entry-content"),F);if(G.generate()){var P=`<div class="sidebar-item-title">${q([25991,31456,30446,24405])}</div>`,R=e("div"),z=e("div");z.innerHTML=P,F.addClass("sidebar-item-body"),R.addClass("sidebar-item","fixed"),R.id="post-catalog",z.appendChild(F),R.appendChild(z),n("widget-mount-left").appendChild(R);var D=e("div"),U=[q([38544,34255,30446,24405]),q([26174,31034,30446,24405])],Y=["mousedown","hidden","catalog-status-hidden"];D.id="post-catalog-switcher",D.innerHTML="<i class='fa fa-th-list'></i>",D.title=U[0],D.addEventListener("mousedown",(()=>{D.addClass(Y[0])})),D.addEventListener("mouseup",(()=>{D.removeClass(Y[0])})),D.addEventListener("click",(()=>{G.visible?(G.visible=!1,R.addClass(Y[1]),setTimeout((function(){D.addClass(Y[2]),D.title=U[1]}),200)):(G.visible=!0,R.removeClass(Y[1]),setTimeout((function(){D.removeClass(Y[2]),D.title=U[0]}),200))})),document.body.appendChild(D),F.addEventListener("click",(e=>{var t=e.target;"A"===t.tagName?G.currentAnchor=t:"A"===t.parentElement.tagName?G.currentAnchor=t.parentElement:"A"===t.parentElement.parentElement.tagName&&(G.currentAnchor=t.parentElement.parentElement)}));const t=80;var J=G.headingCollection,K=G.anchorCollection,Q=J.length;function r(){for(var e=Q-1;e>=0;e--)if(J[e].getBoundingClientRect().top<=t){var n=J[e].dataset.anchor,r=K.find((e=>e.dataset.anchor===n));G.currentAnchor=r;break}}d.addHandle("chl",null,r)}}function V(e,t){this.wrap=e,this.target=t}if(V.prototype={cls:["current","pre","next",""],wrap:{},target:{},imgCollection:[],wrapCollection:[],count:0,_preWrap:null,_nextWrap:null,_curWrap:null,_lastWrap:null,_curIndex:0,_curImg:null,_visible:!1,get visible(){return this._visible},set visible(e){e?this._visible=!0:(this._visible=!1,this._curWrap.removeClass("current"),this._preWrap&&this._preWrap.removeClass("pre"),this._nextWrap&&this._nextWrap.removeClass("next"))},get currentImageIndex(){return this._curIndex},set currentImageIndex(e){e>=0&&e<this.count&&(this._curIndex=e,this._curWrap=this.wrapCollection[e],this._curWrap.setAttribute("class",this.cls[0]),e&&(this._preWrap=this.wrapCollection[e-1],this._preWrap.setAttribute("class",this.cls[1])),e<this.count-1&&(this._nextWrap=this.wrapCollection[e+1],this._nextWrap.setAttribute("class",this.cls[2])))},get currentImage(){return this._curImg},set currentImage(e){this._curImg=e;var t=e.dataset.imgLink,n=this.wrapCollection.findIndex((e=>e.dataset.imgLink===t));this.currentImageIndex=n},generate(){if(!(!this.wrap instanceof HTMLElement||!this.target instanceof HTMLElement)){var n=this.wrap.getElementsByTagName("img"),r=n.length;if(r){for(var a=t(),i=q([22312,30011,24266,20013,26597,30475]),s=0;s<r;s++){var l=n.item(s),o=e("div"),c=e("img"),d=$(4);l.title=i,l.dataset.imgLink=d,o.dataset.imgLink=d,c.src=l.src,o.appendChild(c),this.imgCollection.push(l),this.wrapCollection.push(o),a.appendChild(o)}this.target.appendChild(a),this.count=r}}},setClass(e,t){e>=0&&e<this.count&&this.cls.includes(t)&&this.wrapCollection[e].setAttribute("class",t)}},a){var X=r(".entry-content"),Z=new V(X,n("post-imgs-collection"));if(Z.generate(),Z.count){var ee=n("post-img-gallery"),te=r(".gallery-close"),ne=(ie="gallery-mover",document.getElementsByClassName(ie)),re=r(".current-img-index"),ae=r(".current-img-description");function e(e){if("FIGURE"===e.parentElement.tagName){var t=e.nextElementSibling;if(t&&"FIGCAPTION"===t.tagName&&t.innerText)return void(ae.innerText=t.innerText)}e.alt?ae.innerText=e.alt:ae.innerText=""}X.addEventListener("click",(t=>{var n=t.target;"IMG"===n.tagName&&(Z.currentImage=n,Z.visible=!0,e(n),re.innerText=Z.currentImageIndex+1,ee.style.display="flex")})),te.addEventListener("click",(()=>{Z.visible=!1,ae.innerText="",re.innerText="",ee.style.display="none"})),ne.item(1).firstElementChild.addEventListener("click",(()=>{var t=Z.currentImageIndex;t<Z.count-1&&(Z.setClass(t-1,""),Z.currentImageIndex+=1,e(Z.imgCollection[Z.currentImageIndex]),re.innerText=Z.currentImageIndex+1)})),ne.item(0).firstElementChild.addEventListener("click",(()=>{var t=Z.currentImageIndex;t>0&&(Z.setClass(t+1,""),Z.currentImageIndex-=1,e(Z.imgCollection[Z.currentImageIndex]),re.innerText=Z.currentImageIndex+1)}))}}var ie}();
